# Overview

The code in this replication package performs analysis using data from
The International Trade and Production Database for Estimation - Release
2 (ITPD-ER02), the World Bank’s World Integrated Trade Solution (WITS)
database, the Penn World Table (PWT), and The Dynamic Gravity Dataset.
All the analysis were performed using R. A Master file runs all of the
code to generate the output for the figures and tables in the paper. The
replicator should expect the code to take some time to finish running.

# Data Availability and Provenance Statements

The data relied on in this paper can be found in the ‘./input’ folder of
the repository and is described in the Table below:

| Data File                     | Source                                  | Provided | Additional information                                                                                                                                                         |
|:------------------------------|:----------------------------------------|:---------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ./output/usitc_itpd_e_r02.rds | (Borchert et al., 2022)                 | yes      | The International Trade and Production Database for Estimation - Release 2.                                                                                                    |
| ./output/usitc_dgd.rds        | (Gurevich and Herman, 2018)             | yes      | The Dynamic Gravity dataset, which contains a collection of variables describing aspects of countries and territories as well as the ways in which they relate to one-another. |
| ./output/estonia_ahs.rds      | (World Integrated Trade Solution, 2024) | yes      | Estonia AHS Weighted Average from World in percentage 1995-2019.                                                                                                               |
| ./output/estonia_pwt.rds      | (Feenstra et al., 2015)                 | yes      | PWT is a database with information on relative levels of income, output, input and productivity.                                                                               |

# Computing environment

This code was run on a x86_64-w64-mingw32 platform of a Windows 10 x64
(build 19045) computer.

The analysis is conducted in the R programming environment. R is free,
open-source and available for download
[here](https://www.r-project.org/). The code has been tested against R
version R version 4.2.0 (2022-04-22 ucrt).

Once R is successfully set up on your system, you will need to install a
number of external R libraries. You can install the necessary packages
manually by running the R script `./code/00_PackageManagement.R`.

# Instructions to replicators

All code files in this repository are referred to through the package
here(). This package finds the root as the place where the ‘.Rproj’ file
is located. For this repository, the .Rproj file is located in the root
folder, referred to as ‘./’.

The empirical data analysis takes place within the ./input, /code, and
./output directories, respectively holding the external files, the code
that operates on the files in the ./input directory, and the
computational results. The structure of replication package is indicated
in the \`./code/01_Master.R’ file. Running this Master file will
reproduce all the results of this analysis and assign these results to
their respective output folders.

Further files and directories refer to:

- The ./paper directory contains the .tex file to produce the complete
  and final version of the report.
- The repository is dual-licensed (see ./LICENSE.txt). A Modified BSD
  License applies to all code, scripts, programs, and SOFTWARE while a
  Creative Commons Attribution 4.0 International Public License, applies
  to databases, images, tables, text, and any other objects.
- The Readme files ./Readme.md, ./Readme.html, and ./Readme.docx are
  generated by ./Readme.Rmd.
- The ./bibliography.bib and ./chicago-author-date-withnotes.csl files
  contain the bibliography in bibtex and the citation-style file.

# Mapping of Tables and Figures to programs

A mapping of the Figures displayed in the paper to the respective
programs can be found below:

| Nr. | Program                        | Output                                    | Note                                               |
|:----|:-------------------------------|:------------------------------------------|:---------------------------------------------------|
| 1   | ./paper/RIA_Project_EST_EC.tex |                                           | Figure 1 in the paper, generated in the .tex file. |
| 2.a | ./code/05_Analysis.R           | ./output/figures/EST_total_trade.pdf      |                                                    |
| 2.b | ./code/05_Analysis.R           | ./output/figures/EST_overall_openness.pdf |                                                    |
| 3   | ./code/05_Analysis.R           | ./output/figures/EST_AHS.pdf              |                                                    |
| 4   | ./code/05_Analysis.R           | ./output/figures/Bilateral_flows.pdf      |                                                    |
| 5   | ./code/05_Analysis.R           | ./output/figures/EST_exports_partners.pdf |                                                    |
| 6   | ./code/05_Analysis.R           | ./output/figures/EST_imports_partners.pdf |                                                    |

A mapping of the Tables displayed in the paper to the respective
programs can be found below:

| Nr. | Program                                 | Output                                        | Note                                              |
|----:|:----------------------------------------|:----------------------------------------------|:--------------------------------------------------|
|   1 | ./code/06_TraditionalGravityEstimates.R | ./output/tables/table_traditional_gravity.tex |                                                   |
|   2 | ./code/08_FTA.R                         | ./output/tables/table_glob_gravity.tex        |                                                   |
|   3 | ./paper/RIA_Project_EST_EC.tex          |                                               | Table 3 in the paper, generated in the .tex file. |
|   4 | ./code/07_DistancePuzzle.R              | ./output/tables/table_distance_gravity.tex    |                                                   |
